# S3, EBS, EFSの使い分け

## EKSでの扱い
- S3はマウントするのではなく, アプリケーションレベルでのAPIで操作するのが通常となる.
- EBS, EFSに関しては, PersistentVolumeとしてマウントしてから操作するため, S3に比べて高性能を発揮する.

## EBSの特徴
- i/o性能が高い.
- 単一podへのアタッチ可能.
- データベースやelasticSearchなどのデータノードに利用する.

## EFSの特徴
- i/o性能はEBSに劣るが, 同時に読み書きが可能.
- 頻繁に複数podが同時に読み書きするような共有ストレージに利用する.

## S3の特徴
- 可用性が最も高い.
- 料金が安い.
- バックアップやアーカイブ, ファイルレベルでのアクセスが不要な画像, 動画などや, 重要なドキュメントの保管に利用する.

## 使い分け
- DBなどのマウント先はEBS.
- 以下の場合はS3.
  - ファイルの内容を直接書き換える必要がない.
  - 読み書き性能を求めない.
  - アーカイブやバックアップ先として利用したい.
  - 可用性を極度に求める場合.
- 同時に複数Podからの読み書きが想定されたり, 高性能が求められる場合はEFSをマウント.